"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[349],{1237:function(n,e,t){t.d(e,{H:function(){return c},m:function(){return s}});var r,i,o=t(168),a=t(6444),s=a.ZP.p(r||(r=(0,o.Z)(["\n  margin-bottom: ","px;\n"])),(function(n){return n.theme.space[2]})),c=a.ZP.button(i||(i=(0,o.Z)(["\n  display: flex;\n  justify-content: center;\n  padding: ","px;\n  margin-top: ","px;\n  border-radius: ",";\n  cursor: pointer;\n\n  &:active {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.radii.sm}),(function(n){return n.theme.colors.accent}))},5349:function(n,e,t){t.r(e),t.d(e,{default:function(){return V}});var r,i,o,a,s,c,u=t(9434),l=t(2791),d=t(2168),m=t(168),h=t(6444),f=h.ZP.h2(r||(r=(0,m.Z)(["\n  margin-bottom: ","px;\n"])),(function(n){return n.theme.space[4]})),p=t(184),x=function(n){var e=n.title,t=n.children;return(0,p.jsxs)(d.x,{as:"section",p:4,mx:"auto",width:"400px",position:"relative",children:[(0,p.jsx)(f,{children:e}),t]})},j=t(1413),v=t(5705),b=t(7103),g=t(1237),Z=t(6916),C=function(n){return n.contacts.items},y=function(n){return n.contacts.filter},w=function(n){return n.contacts.isLoading},k=function(n){return n.contacts.error},P=(0,Z.P1)([C,y],(function(n,e){var t=e.toLowerCase();return n.filter((function(n){return n.name.toLowerCase().includes(t)}))})),z=(0,h.ZP)(v.Bc)(i||(i=(0,m.Z)(["\n  color: red;\n"]))),F=b.Ry().shape({name:b.Z_().strict().trim().min(1).max(30).matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces").required(),number:b.Z_().strict().trim().matches(/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{2}\)?)\s?-?\s?(\(?\d{2}\)?)?$/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required()}),N={name:"",number:""},R=function(n){var e=n.onAddContact,t=n.onReviewName,r=(0,u.v9)(w);return(0,p.jsx)(v.J9,{initialValues:N,validationSchema:F,onSubmit:function(n,r){t(n.name)?alert("".concat(n.name," is already in contacts.")):(e((0,j.Z)({},n)),r.resetForm())},children:(0,p.jsxs)(v.l0,{children:[(0,p.jsxs)("label",{htmlFor:"name",children:[(0,p.jsx)(g.m,{children:"Name"}),(0,p.jsx)(v.gN,{autoComplete:"off",type:"text",name:"name"}),(0,p.jsx)(z,{component:"p",name:"name"})]}),(0,p.jsxs)("label",{htmlFor:"number",children:[(0,p.jsx)(g.m,{children:"Phone"}),(0,p.jsx)(v.gN,{type:"tel",name:"number"}),(0,p.jsx)(z,{component:"p",name:"number"})]}),(0,p.jsx)(g.H,{type:"submit",disabled:r,children:"Add contact"})]})})},A=h.ZP.p(o||(o=(0,m.Z)(["\n  margin-top: ","px;\n  font-size: ",";\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.fontSizes.s})),_=t(885),S=h.ZP.button(a||(a=(0,m.Z)(["\n  position: relative;\n  padding: ","px;\n  border-radius: ",";\n  cursor: pointer;\n\n  &:active {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.radii.sm}),(function(n){return n.theme.colors.accent})),H=t(8402),L=h.ZP.div(s||(s=(0,m.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 24px;\n  height: 24px;\n"]))),q=function(n){var e=n.loading,t=n.size;return(0,p.jsx)(L,{children:(0,p.jsx)(H.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:t,visible:e})})},D=function(n){var e=n.onRemoveContact,t=n.id,r=n.children,i=(0,l.useState)(!1),o=(0,_.Z)(i,2),a=o[0],s=o[1];return(0,u.v9)(k)&&s(!1),(0,p.jsxs)(S,{type:"button",disabled:a,onClick:function(){s(!0),e(t)},children:[(0,p.jsx)(q,{loading:a,size:"24"}),r]})},I=function(n){var e=n.onRemoveContact,t=(0,u.v9)(P);return(0,p.jsx)(d.x,{as:"ul",py:4,children:t.map((function(n){var t=n.name,r=n.number,i=n.id;return(0,p.jsxs)(d.x,{as:"li",p:3,display:"flex",width:"300px",justifyContent:"space-between",alignItems:"center",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:t}),(0,p.jsx)(A,{children:r})]}),(0,p.jsx)(D,{onRemoveContact:e,id:i,children:"Delete"})]},i)}))})},$=h.ZP.p(c||(c=(0,m.Z)(["\n  margin-bottom: ","px;\n"])),(function(n){return n.theme.space[2]})),B=function(n){var e=n.filterHeader,t=n.value,r=n.onChange;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("label",{htmlFor:"filter",children:[(0,p.jsx)($,{children:e}),(0,p.jsx)("input",{type:"text",name:"filter",value:t,onChange:r})]})})},E=t(1538),J=t(3634),T=function(n){var e=n.message;return(0,p.jsx)(d.x,{as:"p",p:4,color:"red",children:e})},V=function(){var n=(0,u.I0)(),e=(0,u.v9)(C),t=(0,u.v9)(y),r=(0,u.v9)(w),i=(0,u.v9)(k),o=(0,u.v9)(P);(0,l.useEffect)((function(){n(J.fetchContacts())}),[n]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(x,{title:"Phonebook",children:[(0,p.jsx)(R,{onAddContact:function(e){n(J.addNewContact(e))},onReviewName:function(n){return e.find((function(e){return e.name===n}))}}),(0,p.jsx)(q,{loading:r,size:"56"})]}),(0,p.jsxs)(x,{title:"Contacts",children:[(0,p.jsx)(B,{filterHeader:"Find contacts by name",value:t,onChange:function(e){n((0,E.hX)(e.currentTarget.value.trimStart()))}}),i&&(0,p.jsx)(T,{message:i}),o.length>0&&(0,p.jsx)(I,{onRemoveContact:function(e){n(J.deleteContact(e))}})]})]})}}}]);
//# sourceMappingURL=349.b29cc93a.chunk.js.map